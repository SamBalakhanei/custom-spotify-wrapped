{% extends "_base.html" %}
{% load i18n %}
{% load compress %}
{% load static %}

{% block title %}
    {% trans "Your Spotify Wrapped" %}
{% endblock title %}

{% block extra_css %}
    <!-- Swiper.js CSS is already included in _base.html -->
    <!-- Additional CSS specific to top_artists can be added here if needed -->
{% endblock extra_css %}

{% block content %}
    <h1 class="text-4xl text-center font-bold p-10 text-text">
        {% trans "Your Top Spotify Artists" %}
    </h1>

    <div class="swiper mt-8 max-w-lg mx-auto border-4 border-accent rounded-lg">
        <div class="swiper-wrapper">
            <!-- Slide 1: Welcome -->
            <div class="swiper-slide text-center text-text">Welcome to your Spotify Wrapped</div>

            <!-- Slide 2: Introduction to Top Artists -->
            <div class="swiper-slide text-center text-text">
                You listened to many different artists but there were 5 that stood out:
            </div>

            {% if top_artists %}
                <!-- Slides 3-7: Top 5 Artists -->
                {% include "slides/artist_slide.html" with artist=top_artists.1 number=1 %}
                {% include "slides/artist_slide.html" with artist=top_artists.2 number=2 %}
                {% include "slides/artist_slide.html" with artist=top_artists.3 number=3 %}
                {% include "slides/artist_slide.html" with artist=top_artists.4 number=4 %}
                {% include "slides/artist_slide.html" with artist=top_artists.5 number=5 %}
            {% else %}
                <!-- No Artists Found -->
                <div class="swiper-slide">
                    <p class="text-center text-text">
                        {% trans "No artists found for this period." %}
                    </p>
                </div>
            {% endif %}

            <!-- Slide 8: Introduction to Top Tracks -->
            <div class="swiper-slide text-center text-text">Now onto your top tracks</div>

            {% if top_tracks %}
                <!-- Slides 9-13: Top 5 Tracks -->
                {% include "slides/track_slide.html" with track=top_tracks.1 number=1 %}
                {% include "slides/track_slide.html" with track=top_tracks.2 number=2 %}
                {% include "slides/track_slide.html" with track=top_tracks.3 number=3 %}
                {% include "slides/track_slide.html" with track=top_tracks.4 number=4 %}
                {% include "slides/track_slide.html" with track=top_tracks.5 number=5 %}
            {% else %}
                <!-- No Tracks Found -->
                <div class="swiper-slide">
                    <p class="text-center text-text">
                        {% trans "No tracks found for this period." %}
                    </p>
                </div>
            {% endif %}
        </div>

        <!-- Pagination and Navigation Buttons -->
        <div class="swiper-pagination" style="bottom: 1px;"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>
{% endblock content %}

{% block extra_js %}
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            new Swiper('.swiper', {
                loop: true,
                slidesPerView: 1, // Display one slide at a time
                spaceBetween: 30, // Space between slides in px
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },
            });
        });
    </script>
{% endblock extra_js %}
