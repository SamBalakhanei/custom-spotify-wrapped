{% extends "_base.html" %}
 
{% block content %}
    <div class="container text-white ">
        {% if user.is_authenticated %}
            <h1 class="text-4xl text-center font-bold pt-10">Welcome to Spotify Wrapped, {{ user.username }}.</h1>
        {% else %}
            <h1 class="text-4xl text-center font-bold pt-10">Welcome to Spotify Wrapped.</h1>
             <a href="{% url 'register' %}">Register</a>
            <a href="{% url 'login' %}">Login</a>

        {% endif %}
      
        {% if access_token %}
        <div class="flex space-x-4 items-center justify-center">
            <div class="p-10 flex space-x-4 items-center justify-center w-1/2">
                <a href="{% url 'logout' %}" class="flex-1">
                    <button class="flex flex-col items-center justify-center w-full focus:outline-none text-white bg-green font-medium rounded-lg text-sm px-5 py-2.5">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-12">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9" />
                        </svg>
                        <p class="text-center">Logout</p>
                    </button>
                </a>
                <a href="{% url 'get_top_tracks' limit=10 period="long_term"%}"> class="flex-1">
                    <button class="flex flex-col items-center justify-center w-full focus:outline-none text-white bg-green font-medium rounded-lg text-sm px-5 py-2.5">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-12">
                            <path stroke-linecap="round" stroke-linejoin="round" d="m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15.553Z" />
                        </svg>
                        <p class="text-center">Get top tracks</p>
                    </button>
                </a>
                <a href="{% url 'get_top_artists' limit=10 period="long_term"%}" class="flex-1">
                    <button class="flex flex-col items-center justify-center w-full focus:outline-none text-white bg-green font-medium rounded-lg text-sm px-5 py-2.5">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-12">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z" />
                        </svg>
                        <p class="text-center">Get top artists</p>
                    </button>
                </a>
            </div>
        </div>
        
        {% else %}
            <div class="flex flex-row justify-center items-center">
                <a href="{% url 'spotify_login' %}">
                    <button type="button" class="center	focus:outline-none text-white bg-green font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2">
                        <span>
                            <img class="inline-block align-middle w-5 h-5 object-scale-down" src="https://storage.googleapis.com/pr-newsroom-wp/1/2023/05/Spotify_Primary_Logo_RGB_White.png">
                            <p class="inline-block align-middle pl-1">Login with Spotify </p>
                        </span>
                    </button>
                </a>
            </div>
          
        {% endif %}
    </div>
{% endblock content %}
