{% extends "_base.html" %}
{% load i18n %}
{% load static %}

{% block title %}{% translate "Register - Spotify Wrapped" %}{% endblock title %}

{% block content %}
    <div class="w-1/2 h-full mx-auto pt-10 pb-10">
        <h1 class="m-6 text-text text-4xl text-center">{% trans "Register for Spotify Wrapped" %}</h1>
        <form method="post">
            {% csrf_token %}
            <ul class="pt-10">
                <li class="block mb-4">
                    {{ form.email }}
                </li>
                <li class="block mb-4">
                    {{ form.username }}
                </li>
                <li class="block mb-4">
                    {{ form.password1 }}
                </li>
                <li class="block mb-4">
                    {{ form.password2 }}
                </li>
            </ul>
            <div class="mb-4">
                <h1 class="text-text">{{ form.email.errors}}</h1>
                <h1 class="text-text"> {{ form.username.errors}}</h1>
                <h1 class="text-text">{{ form.password1.errors}}</h1>
                <h1 class="text-text">{{ form.password2.errors}}</h1>
            </div>
            <button id="register-btn" type="submit" class="flex flex-col items-center justify-center w-full focus:outline-none text-text bg-accent font-medium rounded-lg text-sm px-5 py-2.5" onclick="disableButton(); this.form.submit(); return false;">
                <p class="text-center">{% translate "Register" %}</p>
            </button>
        </form>
    </div>

    <script>
        function disableButton() {
            var submitButton = document.getElementById("register-btn");
            submitButton.disabled = true;
            submitButton.innerText = {% trans "Please wait..." %};
        }
    </script>
    
{% endblock content %}
